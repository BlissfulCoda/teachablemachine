<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover"
    />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <title>Teachable Machine AI - Train Your Own Vision Model</title>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.11.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/mobilenet@2.1.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/knn-classifier@1.2.4"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=DM+Serif+Text:ital@0;1&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="bg-pattern"></div>

    <!-- Header -->
    <header class="header">
      <div class="header-content">
        <div class="logo">
          <span class="logo-icon">ğŸ§ </span>
          <span class="logo-text">Teachable Machine AI</span>
        </div>
        <div class="header-actions">
          <button
            class="pill-button pill-menu"
            id="theme-toggle"
            onclick="toggleTheme()"
          >
            <svg
              class="menu-icon"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M3 12H21M3 6H21M3 18H21"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
              />
            </svg>
            <div class="pill-divider"></div>
            <img
              src="Moon.svg"
              alt="Moon"
              class="theme-icon"
              id="theme-icon-img"
            />
          </button>
          <div class="pill-button pill-profile">
            <img src="Romie.png" alt="R" class="profile-picture" />
            <span class="profile-text">
              <span class="profile-label">Designed By</span>
              <span class="profile-name">R</span
              ><span class="profile-dot"></span>
            </span>
          </div>
        </div>
      </div>
    </header>

    <!-- Main Container -->
    <div class="container">
      <!-- Hero Section -->
      <div class="hero">
        <h1>Train Your Vision Model</h1>
        <p>
          Build an AI that can recognize images using machine learning. No
          coding requiredâ€”just upload, train, and test.
        </p>
      </div>

      <!-- Template Selector -->
      <div class="template-selector" id="template-selector">
        <div class="template-selector-content">
          <h2>ğŸ¯ Choose a Template</h2>
          <p>Start with a preset template or begin with emotions</p>
          <div class="template-grid">
            <div class="template-card" onclick="selectTemplate('emotions')">
              <div class="template-icon">ğŸ˜Š</div>
              <div class="template-name">Emotions</div>
              <div class="template-classes">ğŸ˜Š Happy, ğŸ˜¢ Sad</div>
            </div>
            <div class="template-card" onclick="selectTemplate('fruits')">
              <div class="template-icon">ğŸ</div>
              <div class="template-name">Fruits</div>
              <div class="template-classes">ğŸ Apples, ğŸŠ Oranges</div>
            </div>
            <div class="template-card" onclick="selectTemplate('school')">
              <div class="template-icon">âœï¸</div>
              <div class="template-name">School Supplies</div>
              <div class="template-classes">âœï¸ Pencils, âœ’ï¸ Pens</div>
            </div>
            <div class="template-card" onclick="selectTemplate('animals')">
              <div class="template-icon">ğŸ¶</div>
              <div class="template-name">Animals</div>
              <div class="template-classes">ğŸ¶ Dogs, ğŸ± Cats</div>
            </div>
          </div>
          <button
            class="btn btn-secondary"
            onclick="selectTemplate('emotions')"
            style="margin-top: 1.5rem"
          >
            Start with Emotions (Default)
          </button>
        </div>
      </div>

      <!-- Main Content (hidden initially) -->
      <div id="main-content" class="hidden">
        <!-- Progress Steps -->
        <div class="steps">
          <div class="step active" id="step-1">
            <div class="step-number">1</div>
            <div class="step-label">Collect Data</div>
          </div>
          <div class="step" id="step-2">
            <div class="step-number">2</div>
            <div class="step-label">Train Model</div>
          </div>
          <div class="step" id="step-3">
            <div class="step-number">3</div>
            <div class="step-label">Test & Predict</div>
          </div>
        </div>

        <!-- Back to Templates Button -->
        <div class="back-button-section">
          <button class="btn btn-secondary" onclick="goBackToTemplates()">
            <span>â†</span>
            <span>Change Template</span>
          </button>
        </div>

        <!-- Progress Indicators -->
        <div class="progress-indicators-section">
          <h3>ğŸ“Š Collection Progress</h3>
          <div class="progress-indicators" id="progress-indicators"></div>
        </div>

        <!-- Data Collection -->
        <div class="main-grid" id="main-grid">
          <!-- Classes will be dynamically generated here -->
        </div>

        <!-- Train Section -->
        <div class="train-section">
          <button class="btn btn-large" id="train-btn" disabled>
            <span>ğŸš€</span>
            <span>Train Model</span>
          </button>
        </div>

        <!-- Progress Section -->
        <div class="progress-section hidden" id="progress-section">
          <div class="progress-header">
            <div class="progress-label">Training Progress</div>
            <div class="progress-value">
              <span id="progress-percent">0</span>%
            </div>
          </div>
          <div class="progress-bar-container">
            <div class="progress-bar" id="progress-bar" style="width: 0%"></div>
          </div>
        </div>

        <!-- Test Section -->
        <div class="test-section hidden" id="test-section">
          <div class="test-header">
            <h2>ğŸ§ª Test Your Model</h2>
            <p>Upload an image to see what your AI predicts</p>
          </div>

          <div class="test-grid">
            <div class="test-upload-area">
              <div class="upload-zone" id="test-drop-zone">
                <div class="upload-icon">ğŸ¯</div>
                <div class="upload-text">Tap to upload test image</div>
                <div class="upload-subtext">
                  See how well your model performs
                </div>
              </div>
              <input type="file" id="test-input" accept="image/*" />

              <div
                class="test-image-container hidden"
                id="test-image-container"
              >
                <img id="test-image" class="test-image" />
              </div>
            </div>

            <div class="results-container">
              <div class="result-card hidden" id="result-card">
                <div class="result-emoji" id="result-emoji">ğŸ¤”</div>
                <div class="result-label" id="result-label">Analyzing...</div>

                <div class="confidence-meter">
                  <div class="confidence-label">Confidence Level</div>
                  <div class="confidence-bar">
                    <div
                      class="confidence-fill"
                      id="confidence-fill"
                      style="width: 0%"
                    >
                      <span id="confidence-text">0%</span>
                    </div>
                  </div>
                </div>

                <!-- Feedback Section -->
                <div class="feedback-section hidden" id="feedback-section">
                  <div class="feedback-question">
                    Was this prediction correct?
                  </div>
                  <div class="feedback-buttons">
                    <button
                      class="btn-feedback btn-correct"
                      onclick="handleFeedback(true)"
                    >
                      <span>âœ“</span>
                      <span>Yes, Correct!</span>
                    </button>
                    <button
                      class="btn-feedback btn-wrong"
                      onclick="handleFeedback(false)"
                    >
                      <span>âœ—</span>
                      <span>No, Wrong</span>
                    </button>
                  </div>

                  <!-- Correction Panel -->
                  <div class="correction-panel hidden" id="correction-panel">
                    <div class="correction-question">
                      What should it have been?
                    </div>
                    <div class="correction-buttons" id="correction-buttons">
                      <!-- Dynamically generated -->
                    </div>
                  </div>
                </div>
              </div>

              <div class="empty-state" id="result-empty">
                <div class="empty-state-icon">ğŸ“Š</div>
                <div>Upload an image to see predictions</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="script.js"></script>
  </body>
</html>
